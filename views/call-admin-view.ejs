<!DOCTYPE html>
<html lang="en" class="h-full">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <!-- <link
            href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css"
            rel="stylesheet"
        /> -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
        />
        <link rel="stylesheet" href="/assets/css/style.css" />
        <link rel="stylesheet" href="/assets/css/output.css" />
    </head>
    <body
        id="call-container"
        class="bg-gray-950 text-white h-full p-2 w-full overflow-hidden"
    >
        <input type="hidden" id="callId" value="<%= callId %>" />
        <input type="hidden" id="userId" value="<%= userId %>" />
        <input type="hidden" id="username" value="<%= username %>" />
        <div
            id="video-grid-container"
            class="col-start-1 col-span-2 grid grid-cols-1 gap-4 p-4 overflow-hidden"
        >
            <!-- <div class="relative video-container bg-black rounded-lg">
                <video
                    id="userVideo"
                    class="w-full h-full object-cover rounded-lg"
                    autoplay
                ></video>
                <p
                    class="absolute bottom-0 left-0 bg-gray-800 text-xs p-1 rounded"
                >
                    To ma
                </p>
            </div>
            <div class="relative video-container bg-black rounded-lg">
                <video
                    id="userVideo"
                    class="w-full h-full object-cover rounded-lg"
                    autoplay
                ></video>
                <p
                    class="absolute bottom-0 left-0 bg-gray-800 text-xs p-1 rounded"
                >
                    To ma
                </p>
            </div>
            <div class="relative video-container bg-black rounded-lg">
                <video
                    id="userVideo"
                    class="w-full h-full object-cover rounded-lg"
                    autoplay
                ></video>
                <p
                    class="absolute bottom-0 left-0 bg-gray-800 text-xs p-1 rounded"
                >
                    To ma
                </p>
            </div>
            <div class="relative video-container bg-black rounded-lg">
                <video
                    id="userVideo"
                    class="w-full h-full object-cover rounded-lg"
                    autoplay
                ></video>
                <p
                    class="absolute bottom-0 left-0 bg-gray-800 text-xs p-1 rounded"
                >
                    To ma
                </p>
            </div> -->
        </div>
        <div
            id="utility-sidebar"
            class="h-0 transition-all translate-x-80 relative col-start-2 col-span-1"
        >
            <!--CHAT-->
            <div id="chat-container" class="hidden">
                <div class="flex justify-between items-center p-3 mb-2">
                    <span class="font-bold text-xl">Chat</span>
                    <button
                        id=""
                        class="btn-close-sidebar hover:bg-gray-800 hover:rounded-full p-2"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="size-6"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6 18 18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>
                <hr />
                <div id="chat-messages-container" class=""></div>
                <div
                    class="absolute bottom-0 flex justify-center font-normal text-sm"
                >
                    <input
                        id="chat-msg"
                        type="text"
                        class="w-52 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:bg-gray-800 focus:ring-green-900 focus:border-green-900 p-2 mx-2 mb-2 placeholder:text-gray-400"
                        placeholder="Chatta"
                    />
                    <button
                        id="btn-send-chat-message"
                        class="group rounded-full transition-all hover:bg-gray-800 hover:rounded-full p-2"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="size-6 group-hover:fill-black"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
                            />
                        </svg>
                    </button>
                </div>
            </div>

            <!--PEOPLE-->
            <div id="people-container" class="hidden">
                <div class="flex justify-between items-center p-3 mb-2">
                    <span class="font-bold text-xl">Persone</span>
                    <button
                        id=""
                        class="btn-close-sidebar hover:bg-gray-800 hover:rounded-full p-2"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="size-6"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6 18 18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>
                <hr />
                <div id="people-list-container" class=""></div>
            </div>
        </div>
        <div
            id="footer"
            class="col-span-2 mt-5 md:mt-2 2xl:mt-0 p-2 flex justify-between flex-row"
        >
            <div id="call-info" class="text-center font-medium p-2">
                09:15 | cicciolina
            </div>
            <div id="call-settings" class="space-x-1 p-2">
                <button
                    id="btn-mic"
                    class="group rounded-full transition-all hover:bg-gray-800 hover:rounded-full p-2"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-6 group-hover:fill-black"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"
                        />
                    </svg>
                </button>
                <button
                    id="btn-videocam"
                    class="group transition-all stroke-slate-50 hover:rounded-full hover:bg-gray-800 hover:fill-black p-2"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-6 group-hover:fill-black"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"
                        />
                    </svg>
                </button>
                <button
                    id="btn-settings"
                    class="group transition-all stroke-slate-50 hover:rounded-full hover:bg-gray-800 hover:fill-black p-2"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-6 group-hover:fill-black"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"
                        />
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
                        />
                    </svg>
                </button>
                <button class="transition-all hover:bg-red-600 rounded-xl p-2">
                    <span class="material-symbols-outlined"> call_end </span>
                </button>
            </div>
            <!-- drawer init and show -->
            <div id="utilites-btns">
                <button
                    id="btn-show-people"
                    class="transition-all stroke-slate-50 hover:rounded-full hover:bg-gray-800 hover:fill-black p-2"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
                        />
                    </svg>
                </button>

                <button
                    id="btn-show-chat"
                    class="transition-all stroke-slate-50 hover:rounded-full hover:bg-gray-800 hover:fill-black p-2"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"
                        />
                    </svg>
                </button>
            </div>
        </div>

        <!-- <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script> -->
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
        <script src="/assets/js/call.js"></script>
    </body>
</html>
